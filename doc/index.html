<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>reportreader.rb</title>

<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script type="text/javascript" charset="utf-8" src="./js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/darkfish.js"></script>


<body>
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="./index.html">Home</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="./README.html">README</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="./Object.html">Object</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation" class="description">
  
<h1 id="label-%5Breportreader.rb%5D">[reportreader.rb]</h1>

<p>This tool was created because a google search for CLI report reader
returned: nada. reportreader.rb is useful for creating crontabs that i
report on changes made in a certain time period. I have mine set to  report
hourly on changes. Eventually, I may come to rely on something  like
Dashboard or Foreman, but for now, this meets my requirements.</p>
<hr style="height: 10px">

<h2 id="label-%5BUsage%5D%3A">[Usage]:</h2>

<pre>Usage: ./reportreader.rb [options]
  -f, --reportdir PARAM            Identify reports directory (default: /var/lib/puppet/reports)
  -t, --time PARAM                 Time scope by hours from now
  -D, --deleteolder                Delete files older than &quot;-t&quot; time
  -s, --hostname PARAM             Identify hostname to check
  -T, --tags PARAM                 Identify tags to filter by. Verbose output includes matched tags. Wrap in single parens. Pretend the parens are the equivalent of / /. For example, '[a-z]{6}' matches tags &gt; 5 alpha characters.
  -X, --reverse-tags PARAM         Identify tags to filter by. Matches are excluded.
  -R, --custom-method PARAM        send custom method to filter Puppet::Resource::Status. ex: -R &quot;change_count &gt; 0,failed&quot;. Refer to http://projects.puppetlabs.com/projects/puppet/wiki/Report_Format_3 for Puppet::Resource::Status attributes.
  -c, --changes                    Print changed resources. equivalent to -R 'change_count &gt; 0,failed'
  -l, --logs                       Print logs from changed resources
  -v, --verbose                    Increase verbosity
      --breakout                   Breakout into interactive mode after main completes
  -h, --help                       Display this screen</pre>

<h2 id="label-%5Bexamples%5D%3A+">[examples]: </h2>

<pre>reportreader.rb -t 4 -c -s all -X '(trunk|augeas)'
       report changes in the last 4 hours to all nodes excluding resources
       with tags trunk or augueas (which is chatty in noop mode). 

reportreader.rb -t 1 -c -s all -T 'trunk' 
       report changed or failed resources that have the tag &quot;trunk&quot; within 
       the last hour on all nodes. 

reportreader.rb -t 1 -s all -R 'resource == &quot;Service[samba]&quot;'
       report all Puppet::Resource::Status where instance.resource == &quot;Service[samba]&quot;</pre>

</div>


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

